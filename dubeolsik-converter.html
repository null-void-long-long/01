<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ë‘ë²Œì‹ ìíŒ ì—­ë³€í™˜ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .converter-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 1.3em;
            color: #444;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            min-height: 120px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
            background: rgba(255, 255, 255, 1);
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #ffecd2, #fcb69f);
            color: #333;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .examples {
            background: rgba(102, 126, 234, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }
        
        .examples h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .example-item {
            margin-bottom: 10px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }
        
        .example-item .before {
            color: #d63384;
            font-weight: bold;
        }
        
        .example-item .after {
            color: #198754;
            font-weight: bold;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ ë‘ë²Œì‹ ìíŒ ì—­ë³€í™˜ê¸°</h1>
        
        <div class="converter-section">
            <h2 class="section-title">ğŸ“ í…ìŠ¤íŠ¸ ì…ë ¥</h2>
            <div class="input-group">
                <textarea id="inputText" placeholder="ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”...&#10;ì˜ˆ: dkssudgktpdy (ì•ˆë…•í•˜ì„¸ìš”)&#10;ì˜ˆ: ë®¤ã…—ã…‘ã…Š (music)"></textarea>
                <div class="button-group">
                    <button class="btn-primary" onclick="convertEngToKor()">ì˜ë¬¸ â†’ í•œê¸€</button>
                    <button class="btn-secondary" onclick="convertKorToEng()">í•œê¸€ â†’ ì˜ë¬¸</button>
                    <button class="btn-primary" onclick="autoConvert()">ìë™ ë³€í™˜</button>
                    <button class="btn-secondary" onclick="convertToCompleteHangul()">ğŸ”¥ ì™„ì „ì¡°í•©</button>
                    <button onclick="clearAll()" style="background: #dc3545; color: white;">ì „ì²´ ì§€ìš°ê¸°</button>
                </div>
            </div>
        </div>
        
        <div class="converter-section">
            <h2 class="section-title">âœ¨ ë³€í™˜ ê²°ê³¼</h2>
            <textarea id="outputText" placeholder="ë³€í™˜ëœ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..." readonly></textarea>
            <div class="button-group">
                <button class="btn-secondary" onclick="copyResult()">ê²°ê³¼ ë³µì‚¬</button>
                <button class="btn-primary" onclick="swapTexts()">ì…ë ¥â†”ê²°ê³¼ ë°”ê¾¸ê¸°</button>
            </div>
        </div>
        
        <div class="examples">
            <h3>ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ</h3>
            <div class="example-item">
                <span class="before">dkssudgktpdy</span> â†’ <span class="after">ì•ˆë…•í•˜ì„¸ìš”</span> (ğŸ”¥ì™„ì „ì¡°í•©)
            </div>
            <div class="example-item">
                <span class="before">ë®¤ã…—ã…‘ã…Š</span> â†’ <span class="after">music</span>
            </div>
            <div class="example-item">
                <span class="before">gksmlaekdlqslek</span> â†’ <span class="after">í•œêµ­ì–´ì…ë‹ˆë‹¤</span> (ğŸ”¥ì™„ì „ì¡°í•©)
            </div>
            <div class="example-item">
                <span class="before">ã…—ë””ã…—ã… ë£¨ã…£ã…œ ìŠˆã…—ã……</span> â†’ <span class="after">hello my shot</span>
            </div>
        </div>
    </div>

    <script>
        // ë‘ë²Œì‹ ìíŒ ë§¤í•‘
        const engToKor = {
            'q': 'ã…‚', 'w': 'ã…ˆ', 'e': 'ã„·', 'r': 'ã„±', 't': 'ã……', 'y': 'ã…›', 'u': 'ã…•', 'i': 'ã…‘', 'o': 'ã…', 'p': 'ã…”',
            'a': 'ã…', 's': 'ã„´', 'd': 'ã…‡', 'f': 'ã„¹', 'g': 'ã…', 'h': 'ã…—', 'j': 'ã…“', 'k': 'ã…', 'l': 'ã…£',
            'z': 'ã…‹', 'x': 'ã…Œ', 'c': 'ã…Š', 'v': 'ã…', 'b': 'ã… ', 'n': 'ã…œ', 'm': 'ã…¡',
            'Q': 'ã…ƒ', 'W': 'ã…‰', 'E': 'ã„¸', 'R': 'ã„²', 'T': 'ã…†', 'Y': 'ã…›', 'U': 'ã…•', 'I': 'ã…‘', 'O': 'ã…’', 'P': 'ã…–'
        };

        const korToEng = {};
        for (let key in engToKor) {
            korToEng[engToKor[key]] = key;
        }

        // í•œê¸€ ì¡°í•©ì„ ìœ„í•œ ë§¤í•‘
        const CHOSUNG = ['ã„±','ã„²','ã„´','ã„·','ã„¸','ã„¹','ã…','ã…‚','ã…ƒ','ã……','ã…†','ã…‡','ã…ˆ','ã…‰','ã…Š','ã…‹','ã…Œ','ã…','ã…'];
        const JUNGSUNG = ['ã…','ã…','ã…‘','ã…’','ã…“','ã…”','ã…•','ã…–','ã…—','ã…˜','ã…™','ã…š','ã…›','ã…œ','ã…','ã…','ã…Ÿ','ã… ','ã…¡','ã…¢','ã…£'];
        const JONGSUNG = ['','ã„±','ã„²','ã„³','ã„´','ã„µ','ã„¶','ã„·','ã„¹','ã„º','ã„»','ã„¼','ã„½','ã„¾','ã„¿','ã…€','ã…','ã…‚','ã…„','ã……','ã…†','ã…‡','ã…ˆ','ã…Š','ã…‹','ã…Œ','ã…','ã…'];
        
        const CHOSUNG_MAP = {
            'ã„±': 0, 'ã„²': 1, 'ã„´': 2, 'ã„·': 3, 'ã„¸': 4, 'ã„¹': 5, 'ã…': 6, 'ã…‚': 7, 'ã…ƒ': 8, 'ã……': 9, 'ã…†': 10, 'ã…‡': 11, 'ã…ˆ': 12, 'ã…‰': 13, 'ã…Š': 14, 'ã…‹': 15, 'ã…Œ': 16, 'ã…': 17, 'ã…': 18
        };
        const JUNGSUNG_MAP = {
            'ã…': 0, 'ã…': 1, 'ã…‘': 2, 'ã…’': 3, 'ã…“': 4, 'ã…”': 5, 'ã…•': 6, 'ã…–': 7, 'ã…—': 8, 'ã…˜': 9, 'ã…™': 10, 'ã…š': 11, 'ã…›': 12, 'ã…œ': 13, 'ã…': 14, 'ã…': 15, 'ã…Ÿ': 16, 'ã… ': 17, 'ã…¡': 18, 'ã…¢': 19, 'ã…£': 20
        };
        const JONGSUNG_MAP = {
            '': 0, 'ã„±': 1, 'ã„²': 2, 'ã„³': 3, 'ã„´': 4, 'ã„µ': 5, 'ã„¶': 6, 'ã„·': 7, 'ã„¹': 8, 'ã„º': 9, 'ã„»': 10, 'ã„¼': 11, 'ã„½': 12, 'ã„¾': 13, 'ã„¿': 14, 'ã…€': 15, 'ã…': 16, 'ã…‚': 17, 'ã…„': 18, 'ã……': 19, 'ã…†': 20, 'ã…‡': 21, 'ã…ˆ': 22, 'ã…Š': 23, 'ã…‹': 24, 'ã…Œ': 25, 'ã…': 26, 'ã…': 27
        };

        function combineHangul(cho, jung, jong = '') {
            const choIndex = CHOSUNG_MAP[cho];
            const jungIndex = JUNGSUNG_MAP[jung];
            const jongIndex = JONGSUNG_MAP[jong];
            
            if (choIndex === undefined || jungIndex === undefined || jongIndex === undefined) {
                return cho + jung + jong;
            }
            
            const code = 0xAC00 + (choIndex * 21 + jungIndex) * 28 + jongIndex;
            return String.fromCharCode(code);
        }

        function convertToCompleteHangul() {
            const input = document.getElementById('inputText').value;
            let result = '';
            let consonants = [];
            let vowels = [];
            let buffer = [];
            
            // ë¨¼ì € ì˜ë¬¸ì„ í•œê¸€ ìëª¨ë¡œ ë³€í™˜
            for (let char of input) {
                if (engToKor[char]) {
                    buffer.push(engToKor[char]);
                } else {
                    // í•œê¸€ì´ ì•„ë‹Œ ë¬¸ìëŠ” ë²„í¼ë¥¼ ì²˜ë¦¬í•˜ê³  ê·¸ëŒ€ë¡œ ì¶”ê°€
                    if (buffer.length > 0) {
                        result += processBuffer(buffer);
                        buffer = [];
                    }
                    result += char;
                }
            }
            
            // ë§ˆì§€ë§‰ ë²„í¼ ì²˜ë¦¬
            if (buffer.length > 0) {
                result += processBuffer(buffer);
            }
            
            document.getElementById('outputText').value = result;
        }

        function processBuffer(buffer) {
            let result = '';
            let i = 0;
            
            while (i < buffer.length) {
                const char1 = buffer[i];
                const char2 = buffer[i + 1];
                const char3 = buffer[i + 2];
                
                // ì´ˆì„±ì¸ì§€ í™•ì¸
                if (CHOSUNG_MAP[char1] !== undefined) {
                    // ì¤‘ì„±ì´ ìˆëŠ”ì§€ í™•ì¸
                    if (char2 && JUNGSUNG_MAP[char2] !== undefined) {
                        // ì¢…ì„±ì´ ìˆëŠ”ì§€ í™•ì¸
                        if (char3 && JONGSUNG_MAP[char3] !== undefined && 
                            // ë‹¤ìŒ ê¸€ìê°€ ì´ˆì„±ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ì¢…ì„±ìœ¼ë¡œ ì²˜ë¦¬
                            (i + 3 >= buffer.length || CHOSUNG_MAP[buffer[i + 3]] === undefined)) {
                            result += combineHangul(char1, char2, char3);
                            i += 3;
                        } else {
                            result += combineHangul(char1, char2);
                            i += 2;
                        }
                    } else {
                        result += char1;
                        i++;
                    }
                } else {
                    result += char1;
                    i++;
                }
            }
            
            return result;
        }

        function convertEngToKor() {
            const input = document.getElementById('inputText').value;
            let result = '';
            
            for (let char of input) {
                if (engToKor[char]) {
                    result += engToKor[char];
                } else {
                    result += char;
                }
            }
            
            document.getElementById('outputText').value = result;
        }

        function convertKorToEng() {
            const input = document.getElementById('inputText').value;
            let result = '';
            
            for (let char of input) {
                if (korToEng[char]) {
                    result += korToEng[char];
                } else {
                    result += char;
                }
            }
            
            document.getElementById('outputText').value = result;
        }

        function autoConvert() {
            const input = document.getElementById('inputText').value;
            let hasKorean = false;
            let hasEnglish = false;
            
            for (let char of input) {
                // ê°œì„ ëœ ê°ì§€: í•œê¸€ ì •ê·œí‘œí˜„ì‹ ì‚¬ìš©
                if (/[ã„±-ã…ã…-ã…£ê°€-í£]/.test(char)) hasKorean = true;
                if (/[a-zA-Z]/.test(char)) hasEnglish = true;
            }
            
            if (hasEnglish && !hasKorean) {
                convertEngToKor();
            } else if (hasKorean && !hasEnglish) {
                convertKorToEng();
            } else {
                // í˜¼í•©ëœ ê²½ìš° ì˜ë¬¸ì„ í•œê¸€ë¡œ ë³€í™˜
                convertEngToKor();
            }
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
        }

        async function copyResult() {
            const output = document.getElementById('outputText');
            const button = event.target;
            const originalText = button.textContent;
            
            try {
                // ìµœì‹  Clipboard API ì‚¬ìš©
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(output.value);
                } else {
                    // fallback for older browsers
                    output.select();
                    document.execCommand('copy');
                }
                
                // ë³µì‚¬ ì™„ë£Œ ì•Œë¦¼
                button.textContent = 'ë³µì‚¬ ì™„ë£Œ!';
                button.style.background = '#28a745';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
                
            } catch (err) {
                console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                // fallbackìœ¼ë¡œ ê¸°ì¡´ ë°©ì‹ ì‹œë„
                output.select();
                document.execCommand('copy');
                button.textContent = 'ë³µì‚¬ë¨';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            }
        }

        function swapTexts() {
            const input = document.getElementById('inputText').value;
            const output = document.getElementById('outputText').value;
            
            document.getElementById('inputText').value = output;
            document.getElementById('outputText').value = input;
        }

        // ì‹¤ì‹œê°„ ë³€í™˜ (ì˜µì…˜)
        document.getElementById('inputText').addEventListener('input', function() {
            if (this.value.length > 0) {
                // ì…ë ¥ì´ ìˆì„ ë•Œë§Œ íŒíŠ¸ í‘œì‹œ
                const lastChar = this.value.slice(-1);
                if (engToKor[lastChar] || korToEng[lastChar]) {
                    // ìë™ ë³€í™˜ ë¯¸ë¦¬ë³´ê¸°ëŠ” ì„±ëŠ¥ìƒ ì œì™¸
                }
            }
        });

        // ì—”í„°í‚¤ë¡œ ë³€í™˜ ì‹¤í–‰
        document.getElementById('inputText').addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && event.ctrlKey) {
                autoConvert();
                event.preventDefault();
            }
        });
    </script>
</body>
</html>